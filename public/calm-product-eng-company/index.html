<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=58150&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>&#34;We&#39;re a product engineering company!&#34; -- Engineering strategy at Calm. | Drafting Strategy</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="In my career, the majority of the strategy work I&rsquo;ve done has been in non-executive roles, things like Uber&rsquo;s service migration. Joining Calm was my first executive role, where I was able to not just propose, but also mandate, strategy.
Like almost all startups, the engineering team was scattered when I joined. Was our most important work creating more scalable infrastructure? Was our greatest risk the failure to adopt leading programming languages?">
    <meta name="generator" content="Hugo 0.128.2">
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    <meta name="author" content="map[name:Will Larson]">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



  
    <link rel="stylesheet" href="/static/pygments.css">
  


    

    
      

    

    

    
      <link rel="canonical" href="http://localhost:58150/calm-product-eng-company/">
    

    <meta property="og:url" content="http://localhost:58150/calm-product-eng-company/">
  <meta property="og:site_name" content="Drafting Strategy">
  <meta property="og:title" content="&#34;We&#39;re a product engineering company!&#34; -- Engineering strategy at Calm.">
  <meta property="og:description" content="In my career, the majority of the strategy work I’ve done has been in non-executive roles, things like Uber’s service migration. Joining Calm was my first executive role, where I was able to not just propose, but also mandate, strategy.
Like almost all startups, the engineering team was scattered when I joined. Was our most important work creating more scalable infrastructure? Was our greatest risk the failure to adopt leading programming languages?">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="strategies">
    <meta property="article:published_time" content="2025-01-23T06:00:00-07:00">
    <meta property="article:modified_time" content="2025-01-23T06:00:00-07:00">
    <meta property="article:tag" content="Strategy">
    <meta property="article:tag" content="Eng-Strategy-Book">
    <meta property="og:image" content="http://localhost:58150/static/author.png">

  <meta itemprop="name" content="&#34;We&#39;re a product engineering company!&#34; -- Engineering strategy at Calm.">
  <meta itemprop="description" content="In my career, the majority of the strategy work I’ve done has been in non-executive roles, things like Uber’s service migration. Joining Calm was my first executive role, where I was able to not just propose, but also mandate, strategy.
Like almost all startups, the engineering team was scattered when I joined. Was our most important work creating more scalable infrastructure? Was our greatest risk the failure to adopt leading programming languages?">
  <meta itemprop="datePublished" content="2025-01-23T06:00:00-07:00">
  <meta itemprop="dateModified" content="2025-01-23T06:00:00-07:00">
  <meta itemprop="wordCount" content="1380">
  <meta itemprop="image" content="http://localhost:58150/static/author.png">
  <meta itemprop="keywords" content="Strategy,Eng-Strategy-Book">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://localhost:58150/static/author.png">
  <meta name="twitter:title" content="&#34;We&#39;re a product engineering company!&#34; -- Engineering strategy at Calm.">
  <meta name="twitter:description" content="In my career, the majority of the strategy work I’ve done has been in non-executive roles, things like Uber’s service migration. Joining Calm was my first executive role, where I was able to not just propose, but also mandate, strategy.
Like almost all startups, the engineering team was scattered when I joined. Was our most important work creating more scalable infrastructure? Was our greatest risk the failure to adopt leading programming languages?">

	

  </head><body class="ma0 avenir bg-white development">

    
   
  <header>
  <div class="bg-white">
    <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 no-underline black-90 dib">
      
        Drafting Strategy
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="no-underline black-90" href="/about" title="About page">
              About
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="no-underline black-90" href="" title=" page">
              
            </a>
          </li>
          
        </ul>
      
      















    </div>
  </div>
  
    
</nav>

  </div>
</header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      
      
      <h1 class="f1 athelas mt3 mb3">&#34;We&#39;re a product engineering company!&#34; -- Engineering strategy at Calm.</h1>
      
      

      
      

    </header>
    <div class="nested-copy-line-height lh-copy serif f5 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p>In my career, the majority of the strategy work I&rsquo;ve done has been in non-executive roles,
things like <a href="/uber-service-migration-strategy/">Uber&rsquo;s service migration</a>.
Joining Calm was my first executive role, where I was able to not just propose, but also mandate, strategy.</p>
<p>Like almost all startups, the engineering team was scattered when I joined.
Was our most important work creating more scalable infrastructure?
Was our greatest risk the failure to adopt leading programming languages?
How did we rescue the stuck <a href="/decompose-monolith-strategy/">service decomposition initiative</a>?</p>
<p>This strategy is where the engineering team and I aligned after numerous rounds of iteration,
debate, and inevitably some disagreement. As a strategy, it&rsquo;s both basic and also unambiguous
about what we valued, and I believe it&rsquo;s a reasonably good starting point for any <a href="/quality/">low scalability-complexity</a>
consumer product.</p>
<h2 id="reading-this-document">Reading this document</h2>
<p>To apply this strategy, start at the top with <em>Policy</em>. To understand the thinking behind this strategy, read sections in reverse order, starting with <em>Explore</em>, then <em>Diagnose</em> and so on.
Relative to the default structure, this document has one tweak, folding the <em>Operation</em> section in with  <em>Policy</em>.</p>
<p>More detail on this structure in <a href="/readable-engineering-strategy-documents">Making a readable Engineering Strategy document</a>.</p>
<h2 id="policy--operation">Policy &amp; Operation</h2>
<p>Our new policies, and the mechanisms to operate them are:</p>
<ul>
<li>
<p><strong>We are a product engineering company.</strong>
Users write in every day to tell us that our product has changed their lives for the better.
Our technical infrastructure doesn&rsquo;t get many user letters&ndash;and this is unlikely to change going forward
as our infrastructure is relatively low-scale and low-complexity.
Rather than attempting to change that, we want to devote the absolute maximum possible attention to product engineering.</p>
</li>
<li>
<p><strong>We exclusively adopt new technologies to create valuable product capabilities.</strong>
We believe our technology stack as it exists today can solve the majority of our current and future product roadmaps.
In the rare case where we adopt a new technology, we do so because a product capability is inherently impossible
without adopting a new technology.</p>
<p>We do not adopt new technologies for other reasons. For example, we would not adopt a new technology because
someone is interested in learning about it. Nor would we adopt a technology because it is 30% <em>better suited</em>
to a task.</p>
</li>
<li>
<p><strong>We write all code in the monolith.</strong>
It has been ambiguous if new code (especially new application code) should be written in our JavaScript monolith,
or if all new code <em>must</em> be written in a new service outside of the monolith.
This is no longer ambiguous: all new code must be written in the monolith.</p>
<p>In the rare case that there is a functional requirement that makes writing in the monolith implausible,
then you should seek an exception as described below.</p>
</li>
<li>
<p><strong>Exceptions are granted by the CTO, and must be in writing.</strong>
The above policies are deliberately restrictive. Sometimes they may be wrong, and we will
make exceptions to them. However, each exception should be deliberate and grounded in concrete
problems we are aligned both on solving and how we solve them.
If we all scatter towards our preferred solution, then we&rsquo;ll create negative leverage for Calm
rather than serving as the engine that advances our product.</p>
<p>All exceptions must be written. If they are not written, then you should operate as if it has not been granted.
Our goal is to avoid ambiguity around whether an exception has, or has not, been approved.
If there&rsquo;s no written record that the CTO approved it, then it&rsquo;s not approved.</p>
</li>
</ul>
<p>Proving the point about exceptions, there are two confirmed exceptions to the above strategy:</p>
<ol>
<li>
<p><strong>We are incrementally migrating to TypeScript.</strong>
We have found that static typing can prevent a number of our user-facing bugs.
TypeScript provides a clean, incremental migration path for our JavaScript codebase,
and we aim to migrate the entirety over the next six months.</p>
<p>Our Web engineering team is leading this migration.</p>
</li>
<li>
<p><strong>We are evaluating Postgres Aurora as our primary database.</strong>
Many of our recent production incidents are caused by index scans
for tables with high write velocity such as tracking customer logins.
We believe Aurora will perform better under these workloads.</p>
<p>Our Infrastructure engineering team is leading this initiative.</p>
</li>
</ol>
<h2 id="diagnose">Diagnose</h2>
<p>The current state of our engineering organization:</p>
<ul>
<li>
<p><strong>Our product is not limited by missing infrastructure capabilities.</strong>
Reviewing our roadmap, there&rsquo;s nothing that we are trying to build today
or over the next year that is constrained by our technical infrastructure.</p>
</li>
<li>
<p><strong>Our uptime, stability and latency are OK but not great.</strong>
We have semi-frequent stability and latency issues in our application,
all of which are caused by one of two issues.
First, deploying new code with a missing index because it performed well enough in a test environment.
Second, writes to a small number of extremely large, skinny  tables have become expensive in combination
with scans over those tables&rsquo; indexes.</p>
</li>
<li>
<p><strong>Our infrastructure team is split between supporting monolith and service workflows.</strong>
One way to measure technical debt is to understand how much time the team is spending
propping up the current infrastructure. Today, that is meaningful but not overwhelming
work for our team of three infrastructure engineers supporting 30 product engineers.</p>
<p>However, we <em>are</em> finding infrastructure engineers increasingly pulled into debugging
incidents for components moved out of the central monolith into our service architecture.
This is partially due to increased inherent complexity, but it&rsquo;s more due to exposing
lack of monitoring and ambiguous accountability in services&rsquo; production incidents.</p>
</li>
<li>
<p><strong>Our product and executive stakeholders experience us as competing factions.</strong>
Engineering exists to build and operate software in the company.
Part of that is being easy to work with. We should not necessarily support every ask from Product
if we believe they are misaligned with Engineering&rsquo;s goals (e.g. maintaining security),
but it should generally provide a consistent perspective across our team.</p>
<p>Today, our stakeholders believe they will get radically different answers to basic
questions of capabilities and approach depending on who they ask. If they try to
get a group of engineers to agree on an approach, they often find we derail into
debate about approach rather than articulating a clear point of view that allows
the conversation to move forward.</p>
</li>
<li>
<p><strong>We&rsquo;re arguing a particularly large amount about adopting new technologies and rewrites.</strong>
Most of our disagreements stem around adopting new technologies or rewriting existing
components into new technology stacks. For example, can we extend this feature or
do we have to migrate it to a service before extending it?
Can we add this to our database or should we move it into a new Redis cache instead?
Is JavaScript a sufficient programming language, or do we need to rewrite this functionality in Go?</p>
<p>This is particularly relevant to next steps around the ongoing services migration,
which has been in-flight for over a year, but is yet to move any core production code.</p>
</li>
<li>
<p><strong>We are spending more time on infrastructure and platform work than product work.</strong>
This is the combination of all the above issues, from the stability issues we are
encountering in our database design, to the lack of engineering alignment on execution.
This places us at odds with stakeholder expectation that we are predominantly focused
on new product development.</p>
</li>
</ul>
<h2 id="explore">Explore</h2>
<p>Calm is a mobile application that guides users to build and maintain either a meditation or sleep habit.
Recommendations and guidance across content is individual to the user, but the content is shared across
all customers and is amenable to caching on a content delivery network (CDN).
As long as the CDN is available, the mobile application can operate despite inability to access servers
(e.g. the application remains usable from a user&rsquo;s perspective, even if the non-CDN production infrastructure
is unreachable).</p>
<p>In 2010, enabling a product of this complexity would have required significant bespoke infrastructure,
along with likely maintaining a physical presence in a series of datacenters to run your software.
In 2020, comparable applications are generally moving towards maintaining as little internal infrastructure as possible.
This perspective is summarized effectively in Intercom&rsquo;s <a href="https://www.intercom.com/blog/run-less-software/">Run Less Software</a>
and Dan McKinley&rsquo;s <a href="https://mcfunley.com/choose-boring-technology">Choose Boring Technology</a>.</p>
<p>New companies founded in this space view essentially all infrastructure as a commodity bought off your cloud provider.
This even extends to areas of innovation, such as machine learning, where the training infrastructure is typically
run on an offering like AWS Bedrock, and the model infrastructure is provided by Anthropic or OpenAI.</p>
<div class="mt4">
        <hr>
        
        <p class="f5"><span class="b mb3">Next chapter: </span> <a href="/resourcing-eng-driven-projects/">How to resource engineering-driven projects at Calm? (2020)</a></p>
        
        
        <p class="f5"><span class="b mb3">Previous chapter: </span> <a href="/user-data-access-strategy/">How should we control access to user data?</a></p>
                
      </div>
      
      <div class="bg-light-gray br4 ph3 pv1">
        <p class="tracked">First published at <a href="https://lethain.com/calm-product-eng-company/">lethain.com/calm-product-eng-company/</a></p>      
      </div>
      

      <div class="mt6 instapaper_ignoref">
      
      </div>
    </div>

    <aside class="w-30-l mt1-l"><div class="bg-light-gray pa3 cf">
  <p class="f5 mb3">
    Hi folks. I'm <a href="https://lethain.com/about">Will Larson</a>,
    and this is my new book on engineering strategy, <em><a href="https://draftingstrategy.com/">Drafting Strategy</a></em>.
  </p>

  <p>
    I also wrote

    <em><a href="https://www.amazon.com/Elegant-Puzzle-Systems-Engineering-Management/dp/1732265186">An Elegant Puzzle</a></em>,
    <em><a href="https://staffeng.com/book">Staff Engineer</a></em>, and
      <em><a href="https://www.oreilly.com/library/view/the-engineering-executives/9781098149475/">The Engineering Executive's Primer</a></em>.
  </p>

  <p class="cf">
    <div class="fl w-third">
      <a href="https://www.amazon.com/Elegant-Puzzle-Systems-Engineering-Management/dp/1732265186">
        <img src="/static/aep-small-lq.jpg">
      </a>
    </div>
    <div class="fl w-third">    
      <a href="https://staffeng.com/book">
        <img src="/static/StaffEngBookMed.jpg">
      </a>
    </div>
    <div class="fl w-third">
      <a href="https://www.oreilly.com/library/view/the-engineering-executives/9781098149475/">
        <img src="/static/primer-cover-small.jpg">
      </a>
    </div>    
  </p>
</div>

<div class="bg-light-gray ph3 cf">
  <p class="f5 mb3">
    For updates on this project, join <em>Irrational Exuberance</em>'s
    <a href="/newsletter/">weekly newsletter</a>.
  </p>
</div>


<div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
  
    <p class="f5"><span class="b mb3">Next chapter</span></p>
    <p class="f5"><a href="/resourcing-eng-driven-projects/">How to resource engineering-driven projects at Calm? (2020)</a></p>
    
    
  
    <p class="f5"><span class="b mb3">Previous chapter</span></p>
    <p class="f5"><a href="/user-data-access-strategy/">How should we control access to user data?</a></p>
  
  <p class="f5 b mb3">Table of Contents</p>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#reading-this-document">Reading this document</a></li>
    <li><a href="#policy--operation">Policy &amp; Operation</a></li>
    <li><a href="#diagnose">Diagnose</a></li>
    <li><a href="#explore">Explore</a></li>
  </ul>
</nav>
</div>
</aside>

  </article>

    </main>
    <footer class="bg-white bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="center f4 fw4 hover-white no-underline black-50 dn dib-ns pv2 ph3" href="http://localhost:58150/" >
    &copy;  Will Larson 2025 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
